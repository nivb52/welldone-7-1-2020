(this["webpackJsonpmy-locations"]=this["webpackJsonpmy-locations"]||[]).push([[2],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=(a(7),a(2)),s=a(1),l=a.n(s),u=a(3),d=a(4),f=(a(15),function(e){var t=e.children,a=e.id,n=e.back,c=e.view,o=e.edit,i=e.onEdit,s=e.del,l=e.add,u=function(e,t){switch(e){case"back":n();break;case"view":c(t);break;case"edit":o(t);break;case"del":s(t);break;case"add":l();break;default:return}};return r.a.createElement("div",{className:"toolbar"},r.a.createElement("h1",null,t),!i&&!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return u("add")},className:"btn"},"new")),i&&!a&&r.a.createElement("button",{onClick:function(){return u("back")},className:"btn"},"back"),a&&r.a.createElement("div",{className:"toolbar-btn"},r.a.createElement("button",{onClick:function(){return u("back")},className:"btn"},"back"),r.a.createElement("button",{onClick:function(){return u("view",a)},className:"btn btn-info"},"view"),r.a.createElement("button",{onClick:function(){return u("edit",a)},className:"btn btn-success"},"edit"),r.a.createElement("button",{onClick:function(){return u("del",a)},className:"btn btn-danger"},"delete")))});function m(e){var t=e.list,a=e.handleClick,n=e.parentClass,c=void 0===n?"card":n,o=e.nameClass,i=void 0===o?"card-name":o,s=e.classCondition,l=void 0===s?function(){}:s,u=e.itemClass,d=void 0===u?"":u;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("div",{className:c+" "+l(e),key:e._id,onClick:function(){return a(e)}},r.a.createElement("div",{className:i},r.a.createElement("span",{className:d},e.name)))})))}function v(e){var t=e.label,a=void 0===t?"name":t,c=e.objectKey,o=void 0===c?"":c,s=e.placeholder,l=void 0===s?"enter here":s,u=e.onEnter,d=e.handleInput,f=e.handleBlur,m=e.classInput,v=void 0===m?"":m,b=e.defaultValue,p=void 0===b?"":b,g=Object(n.useState)(p),h=Object(i.a)(g,2),y=h[0],E=h[1],O=Object(n.useState)(!0),C=Object(i.a)(O,2),w=C[0],k=C[1],j=o||a;return r.a.createElement("div",{className:"block"},r.a.createElement("label",{className:"block"},a),r.a.createElement("input",{className:v,onKeyDown:function(e){if(13===e.keyCode)return u()},placeholder:l,onChange:function(e){var t=e.target.value;if(!t||!t.trim())return k(!1);k(!0),E(t),d(j,y)},onBlur:function(){return f(j,y)}}),w?"\u2705":"\u274c")}var b=r.a.lazy((function(){return Promise.all([a.e(0),a.e(1)]).then(a.bind(null,38))})),p=function(e){var t=e.cards,a=e.deleteCard,c=e.editOrAddCards,o=e.title,s=void 0===o?"Global Cards":o,l=e.inputs,p=void 0===l?["name"]:l,g=e.editInputs,h=void 0===g?["name"]:g,y=e.classInput,E=void 0===y?"mr-bottom-1rem":y,O=e.doOnSelect,C=void 0===O?function(){}:O,w=e.showMap,k=e.children,j=function(e){var a=t.find((function(t){return t._id===e}));return a=-1===a?null:a},S=function(){c(P),q()},_=function(e,t){M(Object(d.a)({},P,Object(u.a)({},e,t)))},N=function(e,t){M(Object(d.a)({},P,Object(u.a)({},e,t)))},x=function(){S()},I=Object(n.useState)(),L=Object(i.a)(I,2),A=L[0],B=L[1],K=Object(n.useState)(),z=Object(i.a)(K,2),P=z[0],M=z[1],F=Object(n.useState)(),T=Object(i.a)(F,2),J=T[0],W=T[1],q=function(){B(null),M(),W(),C(null)};return r.a.createElement("div",{className:"cards"},r.a.createElement(f,{id:A,onEdit:P,edit:function(e){var t=j(e);M(t),W()},add:function(){M({})},view:function(e){var t=j(e);W(t),M()},del:function(e){a(e),q()},back:q},s),t&&t[0]&&!P&&!J&&r.a.createElement(m,{list:t,itemClass:"capitalized",handleClick:function(e){e._id===A?q():(console.log("item ",e),C(e),B(e._id))},classCondition:function(e){return A&&e._id===A?"highlight":""}}),J&&r.a.createElement("div",{className:"view-card"},p&&p.map((function(e,t){return r.a.createElement("span",{key:t,className:"capitalized mr-bottom-1rem block"},e+" : "+J[e])})),J&&w&&r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(b,{coords:J.coords}))),P&&r.a.createElement("div",{className:"edit-card capitalized"},h&&h[0]&&h.map((function(e,t){return r.a.createElement(v,{key:t,label:e,classInput:E,onEnter:x,placeholder:P[e]||e,defaultValue:P[e],handleBlur:N,handleInput:_})})),k,r.a.createElement("button",{className:"btn btn-save",onClick:S},"save")))},g=a(5);function h(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||"string"!==typeof e)throw Error("local storage key must be string");if(!t){var a=JSON.parse(localStorage.getItem(e))||null;return a}localStorage.setItem(e,JSON.stringify(t))}var E,O=!function(e,t){for(var a=t.split("."),n=0;n<a.length;n++){var r=a[n];if(!e||!e.hasOwnProperty(r))return!1;e=e[r]}return!0}(window,"document.location.hostname")||"localhost"!==window.document.location.hostname,C={getCat:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return O?(e=y("categories"),E=e?Object(g.a)(e):[].concat(w)):E||(E=[].concat(w)),t.abrupt("return",k());case 2:case"end":return t.stop()}}))},delCat:function(e){var t;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(-1!==(t=E.findIndex((function(t){return t._id===e})))){a.next=3;break}return a.abrupt("return");case 3:E.splice(t,1),k();case 5:case"end":return a.stop()}}))},editOrAdd:function(e){if(!e)return;e._id?function(e){var t=E.findIndex((function(t){return t._id===e._id}));E[t]=e}(e):function(e){var t=h();e._id=t,E.push(e)}(e);k()}},w=[{_id:"0ewad0",name:"Travel"},{_id:"1djaW1",name:"Snowboard"},{_id:"2fAcp2",name:"Kitesurf"},{_id:"3dl0P3",name:"Hiking"},{_id:"4ljfq4",name:"Luxury"},{_id:"5dape5",name:"Trending"},{_id:"6gXpf6",name:"Most Popular"}];function k(){var e=E.map((function(e){return e}));return O&&y("categories",e),e}function j(e){var t=e.onCategoryChange,a=Object(n.useState)([]),c=Object(i.a)(a,2),o=c[0],s=c[1];Object(n.useEffect)((function(){u()}),[]);var u=function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,l.a.awrap(C.getCat());case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.abrupt("return",o);case 6:case"end":return e.stop()}}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{cards:o,deleteCard:function(e){return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(C.delCat(e));case 2:t(),u();case 4:case"end":return a.stop()}}))},editOrAddCards:function(e){return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(C.editOrAdd(e));case 2:t(),u();case 4:case"end":return a.stop()}}))},title:"Categories"}))}var S,_={getLoc:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return O?(e=y("locations"),S=e&&e[0]?Object(g.a)(e):N):S||(S=[].concat(N)),t.abrupt("return",x(S));case 2:case"end":return t.stop()}}))},delLoc:function(e){var t;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(-1!==(t=S.findIndex((function(t){return t._id===e})))){a.next=3;break}return a.abrupt("return");case 3:S.splice(t,1),x();case 5:case"end":return a.stop()}}))},editOrAdd:function(e){if(!e)return;e._id?function(e){var t=S.findIndex((function(t){return t._id===e._id}));S[t]=e}(e):function(e){var t=h();e._id=t,S.push(e)}(e);x(S)},sortBy:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=typeof S[0][e]||typeof N[0][e];"string"===a?t?S.sort((function(t,a){return t[e].localeCompare(a[e])})):S.sort((function(t,a){return a[e].localeCompare(t[e])})):S.sort();return x(S)},filterBy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"category";if(!e)return;if("all"===e)return x();var a=S.filter((function(a){return a[t]===e}));return a}},N=[{_id:"0ewad0",address:"address",name:"Brazil",coords:[43.4416815,-20.4285582],category:"Travel"},{_id:"1djaW1",address:"address",name:"Austria",coords:[-33.4416815,-20.4285582],category:"Snowboard"},{_id:"2fAcp2",address:"address",name:"Portugal",coords:[11.4416815,31.4285582],category:"Kitesurf"},{_id:"3dl0P3",address:"address",name:"Greece",coords:[22.4416815,32.4285582],category:"Most Popular"},{_id:"4ljfq4",address:"address",name:"Israel",coords:[-32.4416815,31.4285582],category:"Most Popular"},{_id:"5XjNq5",address:"address",name:"Dubai",coords:[-3.4416815,31.4285582],category:"Luxury"},{_id:"6dape6",address:"address",name:"Spain",coords:[-.2416815,54.5285582],category:"Trending"},{_id:"723de7",address:"address",name:"China",coords:[-.24234815,51.5283212],category:"Hiking"},{_id:"8Y3de8",address:"address",name:"Timbaktu",coords:[-.2416815,51.5285582],category:"Hiking"},{_id:"9gXpf9",address:"address",name:"France",coords:[-.2416815,51.5285582],category:"Most Popular"}];function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;e&&(S=e),O&&y("locations",e);var t=e.map((function(e){return e}));return t}function I(e){var t=e.title,a=void 0===t?"select":t,n=e.isShowAllOption,c=void 0===n||n,o=e.dataList,i=e.onSelect,s=void 0===i?function(e){console.log("select",e.target.value)}:i,l=e.valueKey,u=e.showKey,d=void 0===u?l:u,f=e.selectedOption,m=void 0===f?"":f,v=e.idKey,b=void 0===v?"":v,p=e.idKeyExp,g=void 0===p?"":p,h=e.optionClass,y=void 0===h?"capitalized":h,E=e.getSelectList,O=void 0===E?function(){}:E,C=function(e,t){return b?e[b]:g?g(e,t):t};return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:""}," ",a," "),r.a.createElement("select",{className:"btn",onClick:O,onChange:s,value:m},c&&r.a.createElement("option",{value:"all"}," all"),o&&o[0]&&o.map((function(e,t){return r.a.createElement("option",{className:y,key:C(e,t),value:e[l]},e[d])}))))}var L=r.a.lazy((function(){return Promise.all([a.e(0),a.e(1)]).then(a.bind(null,38))})),A=["name","address","category"],B=["name","address"];function K(e){var t=e.isCategorryChanged,a=Object(n.useState)([{_id:0,name:"loading..."}]),c=Object(i.a)(a,2),o=c[0],s=c[1],u=Object(n.useState)([]),f=Object(i.a)(u,2),m=f[0],v=f[1],b=Object(n.useState)(!0),g=Object(i.a)(b,2),h=g[0],y=g[1],E=Object(n.useState)("all"),O=Object(i.a)(E,2),w=O[0],k=O[1],j=Object(n.useState)(!1),S=Object(i.a)(j,2),N=S[0],x=S[1],K=Object(n.useState)(),z=Object(i.a)(K,2),P=z[0],M=z[1],F=Object(n.useState)(),T=Object(i.a)(F,2),J=T[0],W=T[1],q=Object(n.useState)(),G=Object(i.a)(q,2),H=G[0],X=G[1];Object(n.useEffect)((function(){D()}),[]),Object(n.useEffect)((function(){V()}),[t]);var D=function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=v,e.next=3,l.a.awrap(_.getLoc());case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.abrupt("return",m);case 6:case"end":return e.stop()}}))},V=function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(C.getCat());case 2:e=t.sent,s(e);case 4:case"end":return t.stop()}}))},Y=function(e){var t=e.latitude,a=e.longitude;W([a,t])};return r.a.createElement("div",{className:"locations-page"},N&&r.a.createElement("div",null),!N&&r.a.createElement("div",{className:"sidebar"},o&&o[0]&&r.a.createElement("div",null,"filter",r.a.createElement(I,{title:"",dataList:o,onSelect:function(e){var t=e.target.value;k(t);var a=_.filterBy(t,"category");v(a)},selectedOption:w,valueKey:"name",showKey:"name",optionClass:"capitalized",getSelectList:V})),r.a.createElement("button",{className:"btn",onClick:function(){_.sortBy("name",h),y(!h),D()}},"sort ",h?"  a - z":"  z - a"),r.a.createElement("button",{className:"btn",onClick:function(){_.sortBy("category"),D()}},"group by category")),r.a.createElement(p,{title:"Locations",cards:m,deleteCard:function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(_.delLoc(e));case 2:D();case 3:case"end":return t.stop()}}))},editOrAddCards:function(e){var t,a,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=J||e.coords,a=H||e.address,n=Object(d.a)({},e,{address:a,coords:t,category:P}),r.next=5,l.a.awrap(_.editOrAdd(n));case 5:console.log("edited ! "),x(!1),D();case 8:case"end":return r.stop()}}))},inputs:A,editInputs:B,classInput:"mr-bottom-1rem",doOnSelect:function(e){var t=!(!e||!e._id);x(t),t&&(e.category&&M(e.category),e.coords&&Y(e.coords))},showMap:!0},r.a.createElement(I,{title:"category",isShowAllOption:!1,selectedOption:P,dataList:o,onSelect:function(e){var t=e.target.value;M(t)},valueKey:"name",showKey:"name",optionClass:"capitalized",getSelectList:V}),N&&r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(L,{coords:J,isEditable:!0,editCoords:Y,editAddressByGeocoder:function(e){var t=e.text,a=e.place_name;X(t||a)}}))))}function z(e){var t=e.handleClick,a=e.children;return r.a.createElement("div",{className:"toggle-bar"},r.a.createElement("button",{className:"btn",onClick:function(){return t(!0)}}," ",a[0]," "),r.a.createElement("button",{className:"btn",onClick:function(){return t(!1)}}," ",a[1]," "))}a(16);var P=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),s=Object(i.a)(o,2),l=s[0],u=s[1];return r.a.createElement("div",{className:"App"},r.a.createElement("header",null),r.a.createElement("main",null,a&&r.a.createElement(j,{onCategoryChange:function(){u([Math.random()])}}),!a&&r.a.createElement(K,{isCategorryChanged:l})),r.a.createElement("footer",null,r.a.createElement(z,{handleClick:function(e){a!==e&&c(!a)}},["Categories","Locations"])))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,a){},9:function(e,t,a){e.exports=a(17)}},[[9,3,4]]]);
//# sourceMappingURL=main.52d86f94.chunk.js.map