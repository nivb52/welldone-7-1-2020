(this["webpackJsonpmy-locations"]=this["webpackJsonpmy-locations"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){e.exports=a(27)},24:function(e){e.exports=JSON.parse('{"mapbox":"pk.eyJ1Ijoibml2YjUyIiwiYSI6ImNrNTcyeWhrYzA5bXEzbXBnbDU3dzZ5MzkifQ.h9eMjMa17c4nMDzT3GrGvw"}')},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),i=(a(13),a(3)),s=a(1),u=a.n(s),l=a(4),d=a(5),m=function(e){var t=e.children,a=e.id,n=e.back,c=e.view,o=e.edit,i=e.onEdit,s=e.del,u=e.add,l=function(e,t){switch(e){case"back":n();break;case"view":c(t);break;case"edit":o(t);break;case"del":s(t);break;case"add":u();break;default:return}};return r.a.createElement("div",{className:"toolbar"},r.a.createElement("h1",null,t),!i&&!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return l("add")},className:"btn"},"new")),i&&!a&&r.a.createElement("button",{onClick:function(){return l("back")},className:"btn"},"back"),a&&r.a.createElement("div",{className:"toolbar-btn"},r.a.createElement("button",{onClick:function(){return l("back")},className:"btn"},"back"),r.a.createElement("button",{onClick:function(){return l("view",a)},className:"btn btn-info"},"view"),r.a.createElement("button",{onClick:function(){return l("edit",a)},className:"btn btn-success"},"edit"),r.a.createElement("button",{onClick:function(){return l("del",a)},className:"btn btn-danger"},"delete")))};function f(e){var t=e.list,a=e.handleClick,n=e.parentClass,c=void 0===n?"card":n,o=e.nameClass,i=void 0===o?"card-name":o,s=e.classCondition,u=void 0===s?function(){}:s,l=e.itemClass,d=void 0===l?"":l;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("div",{className:c+" "+u(e),key:e._id,onClick:function(){return a(e._id)}},r.a.createElement("div",{className:i},r.a.createElement("span",{className:d},e.name)))})))}function v(e){var t=e.label,a=void 0===t?"name":t,c=e.objectKey,o=void 0===c?"":c,s=e.placeholder,u=void 0===s?"enter here":s,l=e.onEnter,d=e.handleInput,m=e.handleBlur,f=e.classInput,v=void 0===f?"":f,b=e.defaultValue,p=void 0===b?"":b,g=Object(n.useState)(p),h=Object(i.a)(g,2),y=h[0],E=h[1],C=Object(n.useState)(!0),k=Object(i.a)(C,2),w=k[0],O=k[1],j=o||a;return r.a.createElement("div",{className:"block"},r.a.createElement("label",{className:"block"},a),r.a.createElement("input",{className:v,onKeyDown:function(e){if(13===e.keyCode)return l()},placeholder:u,onChange:function(e){var t=e.target.value;if(!t||!t.trim())return O(!1);O(!0),E(t),d(j,y)},onBlur:function(){return m(j,y)}}),w?"\u2705":"\u274c")}var b=a(8),p=a(24);function g(e){var t=e.coords,a=Object(b.c)({accessToken:p.mapbox});return r.a.createElement(a,{style:"mapbox://styles/mapbox/streets-v9",containerStyle:{height:"50vh",width:"50%",transform:"translate3d(50%,0,0)"}},r.a.createElement(b.b,{type:"symbol",id:"marker",layout:{"icon-image":"marker-15"}},r.a.createElement(b.a,{coordinates:t})))}a(25);var h=function(e){var t=e.cards,a=e.deleteCard,c=e.editOrAddCards,o=e.title,s=void 0===o?"Global Cards":o,u=e.inputs,b=void 0===u?["name"]:u,p=e.editInputs,h=void 0===p?["name"]:p,y=e.classInput,E=void 0===y?"mr-bottom-1rem":y,C=e.currentEdit,k=void 0===C?function(){}:C,w=e.showMap,O=e.children,j=Object(n.useState)(),x=Object(i.a)(j,2),N=x[0],_=x[1],S=Object(n.useState)(),I=Object(i.a)(S,2),A=I[0],z=I[1],L=Object(n.useState)(),M=Object(i.a)(L,2),B=M[0],K=M[1],T=function(e){return t.find((function(t){return t._id===e}))},P=function(){c(A),D()},F=function(e,t){z(Object(d.a)({},A,Object(l.a)({},e,t)))},W=function(e,t){z(Object(d.a)({},A,Object(l.a)({},e,t)))},X=function(){P()},D=function(){_(),z(),K()};return r.a.createElement("div",{className:"cards"},r.a.createElement(m,{id:N,onEdit:A,edit:function(e){var t=T(e);z(t)},add:function(){z({})},view:function(e){var t=T(e);K(t)},del:function(e){a(e),D()},back:D},s),t&&t[0]&&!A&&!B&&r.a.createElement(f,{list:t,itemClass:"capitalized",handleClick:function(e){if(e===N)return _();_(e);var t=T(e);k(t)},classCondition:function(e){return N&&e._id===N?"highlight":""}}),B&&r.a.createElement("div",{className:"view-card"},b&&b.map((function(e,t){return r.a.createElement("span",{key:t,className:"capitalized mr-bottom-1rem block"},B[e])})),B&&w&&r.a.createElement(g,{coords:B.coords})),A&&r.a.createElement("div",{className:"edit-card capitalized"},h&&h[0]&&h.map((function(e,t){return r.a.createElement(v,{key:t,label:e,classInput:E,onEnter:X,placeholder:A[e]||e,defaultValue:A[e],handleBlur:W,handleInput:F})})),O,r.a.createElement("button",{className:"btn btn-save",onClick:P},"save")))};a(7);function y(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}var E,C={getCat:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return E||(E=[].concat(k)),e.abrupt("return",w());case 2:case"end":return e.stop()}}))},delCat:function(e){var t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(-1!==(t=E.findIndex((function(t){return t._id===e})))){a.next=3;break}return a.abrupt("return");case 3:E.splice(t,1),w();case 5:case"end":return a.stop()}}))},editOrAdd:function(e){if(!e)return;e._id?function(e){var t=E.findIndex((function(t){return t._id===e._id}));E[t]=e}(e):function(e){var t=y();e._id=t,E.push(e)}(e);w()}},k=[{_id:"0ewad0",name:"Travel"},{_id:"1djaW1",name:"Snowboard"},{_id:"2fAcp2",name:"Kitesurf"},{_id:"3dl0P3",name:"Hiking"},{_id:"4ljfq4",name:"Luxury"},{_id:"5dape5",name:"Trending"},{_id:"6gXpf6",name:"Most Popular"}];function w(){var e=E.map((function(e){return e}));return e}function O(e){var t=e.onCategoryChange,a=Object(n.useState)([]),c=Object(i.a)(a,2),o=c[0],s=c[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,u.a.awrap(C.getCat());case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.abrupt("return",o);case 6:case"end":return e.stop()}}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{cards:o,deleteCard:function(e){return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(C.delCat(e));case 2:t(),l();case 4:case"end":return a.stop()}}))},editOrAddCards:function(e){return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(C.editOrAdd(e));case 2:t(),l();case 4:case"end":return a.stop()}}))},title:"Categories"}))}var j,x={getLoc:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return j||(j=[].concat(N)),e.abrupt("return",_());case 2:case"end":return e.stop()}}))},delLoc:function(e){var t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(-1!==(t=j.findIndex((function(t){return t._id===e})))){a.next=3;break}return a.abrupt("return");case 3:j.splice(t,1),_();case 5:case"end":return a.stop()}}))},editOrAdd:function(e){if(!e)return;e._id?function(e){var t=j.findIndex((function(t){return t._id===e._id}));j[t]=e}(e):function(e){var t=y();e._id=t,j.push(e)}(e);_()},sortBy:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=typeof j[0][e]||typeof N[0][e];"string"===a?t?j.sort((function(t,a){return t[e].localeCompare(a[e])})):j.sort((function(t,a){return a[e].localeCompare(t[e])})):j.sort()},filterBy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"category";if(!e)return;if("all"===e)return _();var a=j.filter((function(a){return a[t]===e}));return a}},N=[{_id:"0ewad0",address:"address",name:"Brazil",coords:[-.481747846041145,51.3233379650232],category:"Travel"},{_id:"1djaW1",address:"address",name:"Austria",coords:[-.481747846041145,51.3233379650232],category:"Snowboard"},{_id:"2fAcp2",address:"address",name:"Portugal",coords:[-.481747846041145,51.3233379650232],category:"Kitesurf"},{_id:"3dl0P3",address:"address",name:"Greece",coords:[-.481747846041145,51.3233379650232],category:"Most Popular"},{_id:"4ljfq4",address:"address",name:"Israel",coords:[-.481747846041145,51.3233379650232],category:"Most Popular"},{_id:"5XjNq5",address:"address",name:"Dubai",coords:[-.481747846041145,51.3233379650232],category:"Luxury"},{_id:"6dape6",address:"address",name:"Spain",coords:[-.481747846041145,51.3233379650232],category:"Trending"},{_id:"723de7",address:"address",name:"China",coords:[-.481747846041145,51.3233379650232],category:"Hiking"},{_id:"8Y3de8",address:"address",name:"Timbaktu",coords:[-.481747846041145,51.3233379650232],category:"Hiking"},{_id:"9gXpf9",address:"address",name:"France",coords:[-.481747846041145,51.3233379650232],category:"Most Popular"}];function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=e.map((function(e){return e}));return t}function S(e){var t=e.title,a=void 0===t?"select":t,n=e.isShowAllOption,c=void 0===n||n,o=e.dataList,i=e.onSelect,s=void 0===i?function(e){console.log("select",e.target.value)}:i,u=e.valueKey,l=e.showKey,d=void 0===l?u:l,m=e.selectedOption,f=void 0===m?"":m,v=e.idKey,b=void 0===v?"":v,p=e.idKeyExp,g=void 0===p?"":p,h=e.optionClass,y=void 0===h?"capitalized":h,E=e.getSelectList,C=void 0===E?function(){}:E,k=function(e,t){return b?e[b]:g?g(e,t):t};return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:""}," ",a," "),r.a.createElement("select",{className:"btn",onClick:C,onChange:s,value:f},c&&r.a.createElement("option",{value:"all"}," all"),o&&o[0]&&o.map((function(e,t){return r.a.createElement("option",{className:y,key:k(e,t),value:e[u]},e[d])}))))}function I(e){var t=e.isCategorryChanged,a=Object(n.useState)([{id:null,name:"loading..."}]),c=Object(i.a)(a,2),o=c[0],s=c[1],l=Object(n.useState)([]),m=Object(i.a)(l,2),f=m[0],v=m[1],b=Object(n.useState)(!0),p=Object(i.a)(b,2),g=p[0],y=p[1],E=Object(n.useState)(),k=Object(i.a)(E,2),w=k[0],O=k[1],j=Object(n.useState)("all"),N=Object(i.a)(j,2),_=N[0],I=N[1];Object(n.useEffect)((function(){A()}),[]),Object(n.useEffect)((function(){z()}),[t]);var A=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=v,e.next=3,u.a.awrap(x.getLoc());case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.abrupt("return",f);case 6:case"end":return e.stop()}}))},z=function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(C.getCat());case 2:e=t.sent,s(e);case 4:case"end":return t.stop()}}))};return r.a.createElement("div",{className:"locations-page"},r.a.createElement("div",{className:"sidebar"},o&&o[0]&&r.a.createElement("div",null,"filter",r.a.createElement(S,{title:"",dataList:o,onSelect:function(e){var t=e.target.value;I(t);var a=x.filterBy(t,"category");v(a)},selectedOption:_,valueKey:"name",showKey:"name",optionClass:"capitalized",getSelectList:z})),r.a.createElement("button",{className:"btn",onClick:function(){x.sortBy("name",g),y(!g),A()}},"sort ",g?"  a - z":"  z - a"),r.a.createElement("button",{className:"btn",onClick:function(){x.sortBy("category"),A()}},"group by category")),r.a.createElement(h,{cards:f,deleteCard:function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(x.delLoc(e));case 2:A();case 3:case"end":return t.stop()}}))},editOrAddCards:function(e){var t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=Object(d.a)({},e,{category:w}),a.next=3,u.a.awrap(x.editOrAdd(t));case 3:A();case 4:case"end":return a.stop()}}))},title:"Locations",inputs:["name","address","category"],editInputs:["name","address"],classInput:"mr-bottom-1rem",currentEdit:function(e){O(e.category)},showMap:!0},r.a.createElement(S,{title:"category",isShowAllOption:!1,selectedOption:w,dataList:o,onSelect:function(e){var t=e.target.value;O(t)},valueKey:"name",showKey:"name",optionClass:"capitalized",getSelectList:z})))}function A(e){var t=e.handleClick,a=e.children;return r.a.createElement("div",{className:"toggle-bar"},r.a.createElement("button",{className:"btn",onClick:function(){return t(!0)}}," ",a[0]," "),r.a.createElement("button",{className:"btn",onClick:function(){return t(!1)}}," ",a[1]," "))}a(26);var z=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),s=Object(i.a)(o,2),u=s[0],l=s[1];return r.a.createElement("div",{className:"App"},r.a.createElement("header",null),r.a.createElement("main",null,a&&r.a.createElement(O,{onCategoryChange:function(){l([Math.random()])}}),!a&&r.a.createElement(I,{isCategorryChanged:u})),r.a.createElement("footer",null,r.a.createElement(A,{handleClick:function(e){a!==e&&c(!a)}},["Categories","Locations"])))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.aa480e04.chunk.js.map