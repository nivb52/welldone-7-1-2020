{"version":3,"sources":["cmps/crud/Toolbar.jsx","cmps/common/List.jsx","cmps/common/Input.jsx","cmps/crud/index.jsx","services/UtilServices.js","services/CatService.js","services/config.js","views/Categories.jsx","services/LocService.js","cmps/common/Select.jsx","views/Locations.jsx","cmps/ToogleBar.jsx","App.js","serviceWorker.js","index.js"],"names":["Toolbar","children","id","back","view","edit","onEdit","del","add","handleClick","type","className","onClick","List","list","parentClass","nameClass","classCondition","itemClass","map","item","key","_id","name","Input","label","objectKey","placeholder","onEnter","handleInput","handleBlur","classInput","defaultValue","useState","userInput","setUserInput","isValid","setIsValide","onKeyDown","e","keyCode","onChange","value","target","trim","onBlur","Map","React","lazy","Cards","cards","deleteCard","editOrAddCards","title","inputs","editInputs","doOnSelect","showMap","_findCard","found","find","c","handleSave","editCard","unSelect","setEditCard","selectCardId","setSelectCardId","viewCard","setViewCard","foundCard","console","log","field","i","fallback","coords","makeId","length","txt","possible","charAt","Math","floor","random","localStor","data","Error","loadedDB","JSON","parse","localStorage","getItem","setItem","stringify","db","isLocalStorageOn","obj","propertyPath","properties","split","currKey","hasOwnProperty","hasOwnNestedProperty","window","document","location","hostname","getCat","a","async","_returnDB","delCat","index","findIndex","splice","editOrAdd","newCat","idx","_editCat","newId","push","_addCat","categories","Categories","onCategoryChange","cats","setCats","useEffect","getCategories","catService","editedCat","getLoc","delLoc","newLoc","_editLoc","_addLoc","sortBy","isAsec","keyType","sort","b","localeCompare","filterBy","filteredDb","filter","address","category","newDb","locations","Select","isShowAllOption","dataList","onSelect","valueKey","showKey","selectedOption","idKey","idKeyExp","optionClass","getSelectList","uniqueKey","htmlFor","fieldsToView","fieldsToEdit","Locations","isCategorryChanged","setCategories","locs","setLocs","setIsAsec","filteredBy","setFilteredBy","isEditMode","setIsEditMode","selectCategoryOption","setSelectCategoryOption","currentCoords","setCurrentCoords","currentAddress","setCurrentAddress","getLocations","locService","editCoords","latitude","longitude","editedLoc","choosenLoc","onEditing","isEditable","editAddressByGeocoder","text","place_name","ToogleBar","App","toggleCategories","setToggleCategories","setIsCategorryChanged","btnClicked","Boolean","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.52d86f94.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Toolbar = ({ children, id, back, view, edit, onEdit, del, add }) => {\r\n  const handleClick = (type, id) => {\r\n    switch (type) {\r\n      case \"back\":\r\n        back();\r\n        break;\r\n      case \"view\":\r\n        view(id);\r\n        break;\r\n      case \"edit\":\r\n        edit(id);\r\n        break;\r\n      case \"del\":\r\n        del(id);\r\n        break;\r\n      case \"add\":\r\n        add();\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"toolbar\">\r\n      <h1>{children}</h1>\r\n      \r\n      {!onEdit && !id && (\r\n        <>\r\n          <button onClick={() => handleClick(\"add\")} className=\"btn\">\r\n            new\r\n          </button>\r\n        </>\r\n      )}\r\n\r\n      {onEdit && !id && (\r\n        <button onClick={() => handleClick(\"back\")} className=\"btn\">\r\n          back\r\n        </button>\r\n      )}\r\n\r\n      {id && (\r\n        <div className=\"toolbar-btn\">\r\n          <button onClick={() => handleClick(\"back\")} className=\"btn\">\r\n            back\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => handleClick(\"view\", id)}\r\n            className=\"btn btn-info\"\r\n          >\r\n            view\r\n          </button>\r\n          <button\r\n            onClick={() => handleClick(\"edit\", id)}\r\n            className=\"btn btn-success\"\r\n          >\r\n            edit\r\n          </button>\r\n          <button\r\n            onClick={() => handleClick(\"del\", id)}\r\n            className=\"btn btn-danger\"\r\n          >\r\n            delete\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toolbar;\r\n","import React from \"react\";\r\nexport default function List({\r\n  list,\r\n  handleClick,\r\n  parentClass = \"card\",\r\n  nameClass = \"card-name\",\r\n  classCondition = () => {return},\r\n  itemClass = ''\r\n}) {\r\n  return (\r\n    <>\r\n      {list.map(item => (\r\n        <div\r\n          className={parentClass + \" \" + classCondition(item)}\r\n          key={item._id}\r\n          onClick={() => handleClick(item)}\r\n        >\r\n          <div className={nameClass}>\r\n            <span className={itemClass}>{item.name}</span>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nexport default function Input({\r\n  label = \"name\",\r\n  objectKey = '',\r\n  placeholder = \"enter here\",\r\n  onEnter,\r\n  handleInput,\r\n  handleBlur,\r\n  classInput = \"\",\r\n  defaultValue = \"\"\r\n}) {\r\n  const [userInput, setUserInput] = useState(defaultValue);\r\n  const [isValid, setIsValide] = useState(true);\r\n  const handleEnter = e => {\r\n    if (e.keyCode === 13) return onEnter();\r\n  };\r\n  const handleChange = e => {\r\n    const { value } = e.target;\r\n    if (!value || !value.trim()) return setIsValide(false);\r\n    else {\r\n      setIsValide(true);\r\n      setUserInput(value);\r\n      handleInput(key,userInput)\r\n    }\r\n  };\r\n\r\n  const key = objectKey || label\r\n\r\n  return (\r\n    <div className=\"block\">\r\n      <label className=\"block\">{label}</label>\r\n      <input\r\n        className={classInput}\r\n        onKeyDown={handleEnter}\r\n        placeholder={placeholder}\r\n        onChange={handleChange}\r\n        onBlur={() => handleBlur(key, userInput)}\r\n      />\r\n      {isValid ? \"✅\" : \"❌\"}\r\n    </div>\r\n  );\r\n}\r\n","import \"./cards.css\";\r\n\r\nimport React, { useState, Suspense } from \"react\";\r\nimport Toolbar from \"./Toolbar\";\r\nimport List from \"../common/List\";\r\nimport Input from \"../common/Input\";\r\n\r\nconst Map = React.lazy(() => import(\"../map\"));\r\n\r\nconst Cards = ({\r\n  cards,\r\n  deleteCard,\r\n  editOrAddCards,\r\n  title = \"Global Cards\",\r\n  inputs = [\"name\"],\r\n  editInputs = [\"name\"],\r\n  classInput = \"mr-bottom-1rem\",\r\n  doOnSelect = () => {},\r\n  showMap,\r\n  children\r\n}) => {\r\n  const _findCard = id => {\r\n    let found = cards.find(c => c._id === id);\r\n    found = found === -1 ? null : found;\r\n    return found;\r\n  };\r\n\r\n  // #####################\r\n  // Invoke Parent Functions\r\n  const cardAdd = () => {\r\n    setEditCard({});\r\n    // will be added on 'handleBlur'\r\n  };\r\n\r\n  const cardDelete = id => {\r\n    deleteCard(id);\r\n    // emit to parent\r\n    unSelect();\r\n  };\r\n\r\n  // ==============\r\n  // handle on user Inputs\r\n  const handleSave = () => {\r\n    // emit to parent\r\n    editOrAddCards(editCard);\r\n    unSelect();\r\n  };\r\n\r\n  const handleInput = (key, value) => {\r\n    setEditCard({ ...editCard, [key]: value });\r\n  };\r\n\r\n  const handleBlur = (key, value) => {\r\n    setEditCard({ ...editCard, [key]: value });\r\n  };\r\n\r\n  const onEnter = () => {\r\n    handleSave();\r\n  };\r\n  // end handle inputs\r\n  // ==============\r\n\r\n  // ###############\r\n  // Invoke Local Function (mostly, some invoke parent function)\r\n  const [selectCardId, setSelectCardId] = useState();\r\n  const [editCard, setEditCard] = useState();\r\n  const [viewCard, setViewCard] = useState();\r\n\r\n  const handleCardChoose = item => {\r\n    if (item._id === selectCardId) unSelect();\r\n    else {\r\n      console.log(\"item \", item);\r\n      // emit to parent\r\n      doOnSelect(item);\r\n      setSelectCardId(item._id);\r\n    }\r\n  };\r\n\r\n  const cardEdit = id => {\r\n    const foundCard = _findCard(id);\r\n    setEditCard(foundCard);\r\n    setViewCard();\r\n    // will be set as edited on 'handleBlur'\r\n  };\r\n\r\n  const cardView = id => {\r\n    const foundCard = _findCard(id);\r\n    setViewCard(foundCard);\r\n    setEditCard();\r\n  };\r\n\r\n  const isHighlited = c => {\r\n    return selectCardId && c._id === selectCardId ? \"highlight\" : \"\";\r\n  };\r\n\r\n  const unSelect = () => {\r\n    setSelectCardId(null);\r\n    setEditCard();\r\n    setViewCard();\r\n    doOnSelect(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"cards\">\r\n      {/* <!-- ================ ============== --> */}\r\n      {/* <!-- ========== Top Toolbar ============== --> */}\r\n      {/* <!-- ================ ============== --> */}\r\n      <Toolbar\r\n        id={selectCardId}\r\n        onEdit={editCard}\r\n        edit={cardEdit}\r\n        add={cardAdd}\r\n        view={cardView}\r\n        del={cardDelete}\r\n        back={unSelect}\r\n      >\r\n        {title}\r\n      </Toolbar>\r\n      {/* <!-- ================ ============== --> */}\r\n      {/* <!-- ========== LIST ============== --> */}\r\n      {/* <!-- ================ ============== --> */}\r\n      {cards && cards[0] && !editCard && !viewCard && (\r\n        <List\r\n          list={cards}\r\n          itemClass=\"capitalized\"\r\n          handleClick={handleCardChoose}\r\n          classCondition={isHighlited}\r\n        />\r\n      )}\r\n      {/* <!-- ================ ============== --> */}\r\n      {/* <!-- =========== View Card ============== --> */}\r\n      {/* <!-- ================ ============== --> */}\r\n      {viewCard && (\r\n        <div className=\"view-card\">\r\n          {inputs &&\r\n            inputs.map((field, i) => {\r\n              return (\r\n                <span key={i} className=\"capitalized mr-bottom-1rem block\">\r\n                  {field + \" : \" + viewCard[field]}\r\n                </span>\r\n              );\r\n            })}\r\n          {viewCard && showMap && (\r\n            <Suspense fallback={<div>Loading...</div>}>\r\n              <Map coords={viewCard.coords} />\r\n            </Suspense>\r\n          )}\r\n        </div>\r\n      )}\r\n      {/* <!-- ================ ============== --> */}\r\n      {/* <!-- ========== Edit Card & New Card ============== --> */}\r\n      {/* <!-- ================ ============== --> */}\r\n      {editCard && (\r\n        <div className=\"edit-card capitalized\">\r\n          {editInputs &&\r\n            editInputs[0] &&\r\n            editInputs.map((field, i) => {\r\n              return (\r\n                <Input\r\n                  key={i}\r\n                  label={field}\r\n                  classInput={classInput}\r\n                  onEnter={onEnter}\r\n                  placeholder={editCard[field] || field}\r\n                  defaultValue={editCard[field]}\r\n                  handleBlur={handleBlur}\r\n                  handleInput={handleInput}\r\n                />\r\n              );\r\n            })}\r\n          {children}\r\n          <button className=\"btn btn-save\" onClick={handleSave}>\r\n            save\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cards;\r\n","export function makeId(length = 7) {\r\n  let txt = \"\";\r\n  const possible =\r\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n  for (var i = 0; i < length; i++) {\r\n    txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n  }\r\n  return txt;\r\n}\r\n\r\nexport function hasOwnNestedProperty(obj,propertyPath){\r\n\t// if (typeof obj !== 'object' && obj !== null) throw Error ('provided type is not a object or is a null')\r\n\tconst properties = propertyPath.split('.');\r\n\tfor (let i = 0; i < properties.length; i++ ){\r\n\t\tconst currKey = properties[i]\r\n\t\tif (obj && obj.hasOwnProperty(currKey)) {\r\n\t\t\tobj = obj[currKey]\r\n\t\t} else return false\r\n\t}\r\n\treturn true\r\n}\r\n\r\nexport function compareString(a, b, key) {\r\n\tif (a[key] < b[key])  return -1;\r\n\tif (a[key] > b[key]) return 1;\r\n\treturn 0;\r\n  }\r\n  \r\n\r\nexport function localStor(key,data=null){\r\n\tif (!key || typeof key !== 'string'  ) throw Error ('local storage key must be string')\r\n\t// In case there is no data: GetItem =>\t\t\r\n\tif (!data) {\r\n\t\tconst loadedDB = JSON.parse(localStorage.getItem(key)) || null;\r\n\t\treturn loadedDB\r\n\t// In case there is data: SetItem =>\t\t\r\n\t} else {\r\n\t\tlocalStorage.setItem(key, JSON.stringify(data));\r\n\t\treturn\r\n\t}\r\n}\r\n\r\nexport const isExitsAsType = (check,type) => {\r\n\tif (!check || !type) throw Error ('Please provide 2 Arguments, type for check, and type wanted ' )\r\n\tif (typeof type !== 'string' ) throw Error ('type should be a string' )\r\n\treturn check && typeof check === type\r\n}","import { makeId, localStor } from \"./UtilServices.js\";\r\nimport {isLocalStorageOn} from './config';\r\n\r\nexport default {\r\n  getCat,\r\n  delCat,\r\n  editOrAdd\r\n};\r\n\r\nlet db;\r\nconst data = [\r\n  { _id: \"0ewad0\", name: \"Travel\" },\r\n  { _id: \"1djaW1\", name: \"Snowboard\" },\r\n  { _id: \"2fAcp2\", name: \"Kitesurf\" },\r\n  { _id: \"3dl0P3\", name: \"Hiking\" },\r\n  { _id: \"4ljfq4\", name: \"Luxury\" },\r\n  { _id: \"5dape5\", name: \"Trending\" },\r\n  { _id: \"6gXpf6\", name: \"Most Popular\" }\r\n];\r\n\r\nconst localStorageKey = \"categories\";\r\n\r\nasync function getCat() {\r\n  if (isLocalStorageOn) {\r\n    const loadedDB = localStor(localStorageKey);\r\n    if (loadedDB) db = [...loadedDB];\r\n    else db = [...data];\r\n  } else if(!db) db = [...data];\r\n  return _returnDB();\r\n}\r\n\r\n\r\nfunction _returnDB() {\r\n  // return new array with no connection to original db\r\n  let categories = db.map(c => c);\r\n  // SAVE TO LOCAL STORAGE :\r\n  if (isLocalStorageOn) {\r\n    localStor(localStorageKey,categories)\r\n  }\r\n  return categories;\r\n}\r\n\r\n//==========================\r\n//CRUD\r\nasync function delCat(id) {\r\n  const index = db.findIndex(c => c._id === id);\r\n  if (index === -1) return;\r\n  db.splice(index, 1);\r\n  _returnDB();\r\n}\r\n\r\nfunction _editCat(newCat) {\r\n  const idx = db.findIndex(c => c._id === newCat._id);\r\n  db[idx] = newCat; // add to the Virtual DB as well:\r\n}\r\n\r\nfunction _addCat(newCat) {\r\n  const newId = makeId();\r\n  newCat._id = newId;\r\n  db.push(newCat);\r\n}\r\n\r\nfunction editOrAdd(newCat) {\r\n  // return on empty\r\n  if (!newCat) return;\r\n\r\n  // toggle between edit and add\r\n  if (newCat._id) _editCat(newCat);\r\n  else _addCat(newCat);\r\n  _returnDB();\r\n}\r\n\r\n","import { hasOwnNestedProperty } from \"./UtilServices.js\";\r\n\r\nexport const isLocalStorageOn =\r\nhasOwnNestedProperty(window, \"document.location.hostname\") &&\r\nwindow.document.location.hostname === \"localhost\"\r\n  ? false\r\n  : true;\r\n","import React, {useEffect, useState} from \"react\";\r\nimport Crud from \"../cmps/crud/\";\r\nimport catService from \"../services/CatService\";\r\n\r\nexport default function Categories({onCategoryChange}) {\r\n  const [cats, setCats] = useState([]);\r\n  \r\n  useEffect( () => {\r\n    getCategories()\r\n    // eslint-disable-next-line\r\n    async function fetchData() {\r\n    const categories = await catService.getCat()\r\n      setCats(categories);\r\n    }\r\n  }, []);\r\n\r\n  //   let isAjaxing = false;\r\n  \r\n  const getCategories = async () => {\r\n    setCats(await catService.getCat());\r\n    return cats;\r\n  };\r\n\r\n  const deleteCategory = async id => {\r\n    await catService.delCat(id);\r\n    onCategoryChange()\r\n    getCategories()\r\n  };\r\n  \r\n\r\n  const editOrAddCategory = async editedCat => {\r\n    await catService.editOrAdd(editedCat);\r\n    onCategoryChange()\r\n    getCategories()\r\n  };\r\n  return (\r\n    <>\r\n      <Crud\r\n        cards={cats}\r\n        deleteCard={deleteCategory}\r\n        editOrAddCards={editOrAddCategory}\r\n        title = \"Categories\"\r\n      ></Crud>\r\n    </>\r\n  );\r\n}\r\n","import { makeId, localStor } from \"./UtilServices\";\r\nimport { isLocalStorageOn } from \"./config\";\r\n\r\nexport default {\r\n  getLoc,\r\n  delLoc,\r\n  editOrAdd,\r\n  sortBy,\r\n  filterBy\r\n};\r\n\r\nlet db;\r\nconst data = [\r\n  {\r\n    _id: \"0ewad0\",\r\n    address: \"address\",\r\n    name: \"Brazil\",\r\n    coords: [43.4416815, -20.4285582],\r\n    category: \"Travel\"\r\n  },\r\n  {\r\n    _id: \"1djaW1\",\r\n    address: \"address\",\r\n    name: \"Austria\",\r\n    coords: [-33.4416815, -20.4285582],\r\n    category: \"Snowboard\"\r\n  },\r\n  {\r\n    _id: \"2fAcp2\",\r\n    address: \"address\",\r\n    name: \"Portugal\",\r\n    coords: [11.4416815, 31.4285582],\r\n    category: \"Kitesurf\"\r\n  },\r\n  {\r\n    _id: \"3dl0P3\",\r\n    address: \"address\",\r\n    name: \"Greece\",\r\n    coords: [22.4416815, 32.4285582],\r\n    category: \"Most Popular\"\r\n  },\r\n  {\r\n    _id: \"4ljfq4\",\r\n    address: \"address\",\r\n    name: \"Israel\",\r\n    coords: [-32.4416815, 31.4285582],\r\n    category: \"Most Popular\"\r\n  },\r\n  {\r\n    _id: \"5XjNq5\",\r\n    address: \"address\",\r\n    name: \"Dubai\",\r\n    coords: [-3.4416815, 31.4285582],\r\n    category: \"Luxury\"\r\n  },\r\n  {\r\n    _id: \"6dape6\",\r\n    address: \"address\",\r\n    name: \"Spain\",\r\n    coords: [-0.2416815, 54.5285582],\r\n    category: \"Trending\"\r\n  },\r\n  {\r\n    _id: \"723de7\",\r\n    address: \"address\",\r\n    name: \"China\",\r\n    coords: [-0.24234815, 51.5283212],\r\n    category: \"Hiking\"\r\n  },\r\n  {\r\n    _id: \"8Y3de8\",\r\n    address: \"address\",\r\n    name: \"Timbaktu\",\r\n    coords: [-0.2416815, 51.5285582],\r\n    category: \"Hiking\"\r\n  },\r\n  {\r\n    _id: \"9gXpf9\",\r\n    address: \"address\",\r\n    name: \"France\",\r\n    coords: [-0.2416815, 51.5285582],\r\n    category: \"Most Popular\"\r\n  }\r\n];\r\n\r\nconst localStorageKey = \"locations\";\r\n\r\nasync function getLoc() {\r\n  if (!isLocalStorageOn) {\r\n    if (!db) db = [...data];\r\n  } else {\r\n    // LOCAL STORAGE :\r\n    const loadedDB = localStor(localStorageKey) \r\n    if (loadedDB && loadedDB[0]) db = [...loadedDB];\r\n    else db = data; //on 1st visit get db from local\r\n  }\r\n  return _returnDB(db);\r\n}\r\n\r\nfunction _returnDB(newDb = db) {\r\n  if (newDb) db = newDb\r\n  // SAVE TO LOCAL STORAGE :\r\n  if (isLocalStorageOn) {\r\n    localStor(localStorageKey,newDb)\r\n  }\r\n  // return new array with no connection to original db\r\n  let locations = newDb.map(c => c);\r\n  return locations;\r\n}\r\n\r\n// =====================\r\n// CRUD\r\nasync function delLoc(id) {\r\n  const index = db.findIndex(c => c._id === id);\r\n  if (index === -1) return;\r\n  db.splice(index, 1);\r\n  _returnDB();\r\n}\r\n\r\nfunction editOrAdd(newLoc) {\r\n  // return on empty\r\n  if (!newLoc) return;\r\n\r\n  // toggle between edit and add\r\n  if (newLoc._id) _editLoc(newLoc);\r\n  else _addLoc(newLoc);\r\n  _returnDB(db);\r\n}\r\n\r\nfunction _editLoc(newLoc) {\r\n  const idx = db.findIndex(c => c._id === newLoc._id);\r\n  db[idx] = newLoc; // add to the Virtual DB as well:\r\n}\r\n\r\nfunction _addLoc(newLoc) {\r\n  const newId = makeId();\r\n  newLoc._id = newId;\r\n  db.push(newLoc);\r\n}\r\n\r\n\r\n// =====================\r\n// SORT & FILTER\r\nfunction sortBy(key, isAsec = true) {\r\n  const keyType = typeof db[0][key] || typeof data[0][key];\r\n  if (keyType === \"string\") {\r\n    if (isAsec) db.sort((a, b) => a[key].localeCompare(b[key]));\r\n    else db.sort((a, b) => b[key].localeCompare(a[key]));\r\n  } else db.sort();\r\n  return _returnDB(db)\r\n}\r\n\r\nfunction filterBy(value, key = \"category\") {\r\n  if (!value) return;\r\n  if (value === \"all\") return _returnDB();\r\n  const filteredDb = db.filter(item => item[key] === value);\r\n  return filteredDb;\r\n}\r\n\r\n","import React from \"react\";\r\n\r\nexport default function Select({\r\n  title = \"select\",\r\n  isShowAllOption = true,\r\n  dataList,\r\n  onSelect = (e) => {console.log('select', e.target.value);},\r\n  valueKey,\r\n  showKey = valueKey,\r\n  selectedOption = '',\r\n  idKey = \"\",\r\n  idKeyExp = \"\",\r\n  optionClass = \"capitalized\",\r\n  getSelectList = () => {\r\n    //getSelectList defualt: do nothing\r\n    return;\r\n  }\r\n}) {\r\n  const uniqueKey = (item, i) => {\r\n    return idKey ? item[idKey] : idKeyExp ? idKeyExp(item, i) : i;\r\n  };\r\n  return (\r\n    <>\r\n      <label htmlFor=\"\"> {title} </label>\r\n      <select className=\"btn\" onClick={getSelectList} onChange={onSelect} value={selectedOption}>\r\n        { isShowAllOption && <option value=\"all\"> all</option>}\r\n        {dataList && dataList[0] && dataList.map((item, i) => (\r\n          <option\r\n            className={optionClass} \r\n            key={uniqueKey(item, i)}\r\n            value={item[valueKey]}\r\n          >\r\n            {item[showKey]}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState, Suspense } from \"react\";\r\nimport Crud from \"../cmps/crud\";\r\nimport locService from \"../services/LocService\";\r\nimport catService from \"../services/CatService\";\r\nimport Select from \"../cmps/common/Select\";\r\nconst Map = React.lazy(() => import(\"../cmps/map/\"));\r\n\r\n//For Crud component :\r\nconst fieldsToView = [\"name\", \"address\", \"category\"];\r\nconst fieldsToEdit = [\"name\", \"address\"];\r\n\r\n// ==================\r\n// Location component:\r\nexport default function Locations({ isCategorryChanged }) {\r\n  const [categories, setCategories] = useState([\r\n    { _id: 0, name: \"loading...\" }\r\n  ]);\r\n\r\n  const [locs, setLocs] = useState([]);\r\n  const [isAsec, setIsAsec] = useState(true);\r\n  const [filteredBy, setFilteredBy] = useState(\"all\");\r\n  const [isEditMode, setIsEditMode] = useState(false);\r\n  // current card state (on emited changed)\r\n  const [selectCategoryOption, setSelectCategoryOption] = useState();\r\n  const [currentCoords, setCurrentCoords] = useState();\r\n  const [currentAddress, setCurrentAddress] = useState();\r\n\r\n  useEffect(() => {\r\n    getLocations();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getCategories();\r\n  }, [isCategorryChanged]);\r\n\r\n  // service\r\n  const getLocations = async () => {\r\n    setLocs(await locService.getLoc());\r\n    return locs;\r\n  };\r\n\r\n  // service\r\n  const getCategories = async () => {\r\n    const cats = await catService.getCat();\r\n    setCategories(cats);\r\n  };\r\n\r\n  // service + ::TO CRUD Component::\r\n  const deleteLocation = async id => {\r\n    await locService.delLoc(id);\r\n    getLocations();\r\n  };\r\n\r\n  // service  + ::TO CRUD Component:: \r\n  const editOrAddLocation = async editedLoc => {\r\n    const coords = currentCoords ? currentCoords : editedLoc.coords;\r\n    const address = currentAddress ? currentAddress : editedLoc.address;\r\n    \r\n    // creating the new/edited location\r\n    const newLoc = {\r\n      ...editedLoc,\r\n      address,\r\n      coords,\r\n      category: selectCategoryOption\r\n    };\r\n    \r\n    await locService.editOrAdd(newLoc);\r\n    console.log('edited ! ');\r\n    setIsEditMode(false);\r\n    getLocations();\r\n  };\r\n\r\n  // service\r\n  const filterBy = e => {\r\n    const { value } = e.target;\r\n    setFilteredBy(value);\r\n    const filteredDb = locService.filterBy(value, \"category\");\r\n    setLocs(filteredDb);\r\n  };\r\n\r\n  // service\r\n  const groupBy = () => {\r\n    locService.sortBy(\"category\");\r\n    getLocations();\r\n  };\r\n\r\n  // service\r\n  const sortBy = () => {\r\n    locService.sortBy(\"name\", isAsec);\r\n    setIsAsec(!isAsec);\r\n    getLocations();\r\n  };\r\n\r\n  // ::TO CRUD Component::\r\n  const doOnSelect = choosenLoc => {\r\n    // toogle sidebar\r\n    const onEditing = choosenLoc && choosenLoc._id ? true : false;\r\n    setIsEditMode(onEditing);\r\n    if (!onEditing) return;\r\n\r\n    // set currect option for the following html select options\r\n    if (choosenLoc.category) setSelectCategoryOption(choosenLoc.category);\r\n\r\n    // set currect coords\r\n    if (choosenLoc.coords) editCoords(choosenLoc.coords);\r\n  };\r\n\r\n  // :::::::::::::::::::::\r\n  // ::Local funcs ::\r\n  const editCoords = ({ latitude, longitude }) => {\r\n    // const coords = { longitude, latitude };\r\n    setCurrentCoords([longitude, latitude]);\r\n  };\r\n  \r\n  const editAddress = ({ text , place_name}) => {\r\n    const  address  = text || place_name;\r\n    setCurrentAddress(address);\r\n  };\r\n\r\n  const changeLocCategory = e => {\r\n    const { value } = e.target;\r\n    // set the select\r\n    setSelectCategoryOption(value);\r\n  };\r\n  // :::::::::::::::::::::\r\n\r\n  return (\r\n    <div className=\"locations-page\">\r\n      {isEditMode && <div></div>}\r\n      {/* toggle sidebar by location select */}\r\n      {!isEditMode && (\r\n        <div className=\"sidebar\">\r\n          {categories && categories[0] && (\r\n            <div>\r\n              filter\r\n              <Select\r\n                title=\"\"\r\n                dataList={categories}\r\n                onSelect={filterBy}\r\n                selectedOption={filteredBy}\r\n                valueKey={\"name\"}\r\n                showKey={\"name\"}\r\n                optionClass=\"capitalized\"\r\n                getSelectList={getCategories}\r\n              ></Select>\r\n            </div>\r\n          )}\r\n          <button className=\"btn\" onClick={sortBy}>\r\n            sort {isAsec ? \"  a - z\" : \"  z - a\"}\r\n          </button>\r\n          <button className=\"btn\" onClick={groupBy}>\r\n            group by category\r\n          </button>\r\n        </div>\r\n      )}\r\n      <Crud\r\n        title=\"Locations\"\r\n        cards={locs}\r\n        deleteCard={deleteLocation}\r\n        editOrAddCards={editOrAddLocation}\r\n        inputs={fieldsToView}\r\n        editInputs={fieldsToEdit}\r\n        classInput=\"mr-bottom-1rem\"\r\n        doOnSelect={doOnSelect}\r\n        showMap={true}\r\n      >\r\n        {/* children */}\r\n        <Select\r\n          title=\"category\"\r\n          isShowAllOption={false}\r\n          selectedOption={selectCategoryOption}\r\n          dataList={categories}\r\n          onSelect={changeLocCategory}\r\n          valueKey={\"name\"}\r\n          showKey={\"name\"}\r\n          optionClass=\"capitalized\"\r\n          getSelectList={getCategories}\r\n        ></Select>\r\n        {isEditMode && (\r\n          <Suspense fallback={<div>Loading...</div>}>\r\n            <Map\r\n              coords={currentCoords}\r\n              isEditable={true}\r\n              editCoords={editCoords}\r\n              editAddressByGeocoder={editAddress}\r\n            />\r\n          </Suspense>\r\n        )}\r\n      </Crud>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"../style/index.css\"\r\n\r\nexport default function ToogleBar({ handleClick, children }) {\r\n  return (\r\n    <div className=\"toggle-bar\">\r\n      <button className=\"btn\" onClick={() => handleClick(true)}> {children[0]} </button>\r\n      <button className=\"btn\"onClick={() => handleClick(false)} > {children[1]} </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\nimport Categories from \"./views/Categories\";\nimport Locations from \"./views/Locations\";\nimport ToogleBar from \"./cmps/ToogleBar\";\n\nimport \"./style/layout.css\";\n\nfunction App() {\n  const [toggleCategories, setToggleCategories] = useState(false);\n  //true meaning show categoreis on load\n\n  const handleClick = btnClicked => {\n    if (toggleCategories === btnClicked) return;\n    const toggle = !toggleCategories;\n    setToggleCategories(toggle);\n  };\n\n  const [isCategorryChanged, setIsCategorryChanged] = useState([]);\n  const onCategoryChange = () => {\n    setIsCategorryChanged([Math.random()]);\n  };\n\n  return (\n    <div className=\"App\">\n      <header></header>\n\n      <main>\n        {toggleCategories && <Categories onCategoryChange={onCategoryChange} />}\n        {!toggleCategories && (\n          <Locations isCategorryChanged={isCategorryChanged} />\n        )}\n      </main>\n\n      <footer>\n        <ToogleBar handleClick={handleClick}>\n          {[\"Categories\", \"Locations\"]}\n        </ToogleBar>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}